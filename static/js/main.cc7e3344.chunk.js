(this["webpackJsonpsd-0x-project-trybewallet"]=this["webpackJsonpsd-0x-project-trybewallet"]||[]).push([[0],{33:function(e,t,a){e.exports=a(53)},38:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},53:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(19),c=a.n(l),i=a(22),o=(a(38),a(6)),s=a(2),u=a(16),d=a(8),m=a(9),p=a(11),h=a(10);var E=function(e){return{type:"USER_ACTION",payload:e}},b=(a(43),function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={email:"",password:"",isButtonLoginDisabled:!0},e.saveEmailInState=function(){var t=e.state.email,a=e.props,n=a.history;(0,a.saveEmail)(t),n.push("/carteira")},e}return Object(m.a)(a,[{key:"enabledButton",value:function(){var e=this.state,t=e.email,a=e.password;t.match(/^\S+@\S+\.\S+$/)&&a.length>=6?this.setState({isButtonLoginDisabled:!1}):this.setState({isButtonLoginDisabled:!0})}},{key:"handleChanges",value:function(e){var t=e.target,a=t.id,n=t.value;this.setState(Object(u.a)({},a,n),this.enabledButton),"email"===a&&localStorage.setItem("email",n)}},{key:"render",value:function(){var e=this,t=this.state.isButtonLoginDisabled;return r.a.createElement("section",null,r.a.createElement("div",{id:"title"},r.a.createElement("h2",null,"TrybeWallet"),r.a.createElement("img",{src:"https://img.icons8.com/bubbles/50/000000/money.png",alt:"\xedcone dinheiro"})," "),r.a.createElement("form",{className:"formLogin"},r.a.createElement("input",{type:"email","data-testid":"email-input",id:"email",placeholder:"Digite seu email",onChange:function(t){return e.handleChanges(t)}}),r.a.createElement("input",{type:"password","data-testid":"password-input",id:"password",placeholder:"Senha",onChange:function(t){return e.handleChanges(t)}}),r.a.createElement("button",{type:"button",disabled:t,onClick:this.saveEmailInState},"Entrar")))}}]),a}(r.a.Component)),v=Object(o.b)(null,(function(e){return{saveEmail:function(t){return e(E(t))}}}))(b),f=(a(44),function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props,t=e.userEmail,a=e.expenses,n=0;return a.length>0&&a.forEach((function(e){var t=e.currency,a=e.exchangeRates[t].ask;n+=e.value*a})),r.a.createElement("header",null,r.a.createElement("div",{id:"divOne"},r.a.createElement("img",{src:"https://img.icons8.com/bubbles/50/000000/money.png",alt:"\xedcone dinheiro"}),r.a.createElement("p",{"data-testid":"email-field"},"Email:"," ",t)),r.a.createElement("div",{id:"divTwo"},r.a.createElement("p",{"data-testid":"total-field",id:"totalField"},"Despesa Total: R$"," ",n.toFixed(2)),r.a.createElement("p",{"data-testid":"header-currency-field"},"BRL")))}}]),a}(r.a.Component)),g=Object(o.b)((function(e){return{userEmail:e.user.email,expenses:e.wallet.expenses}}))(f),y=a(14),j=a.n(y),O=a(20),x=a(18),w=(a(46),function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(d.a)(this,a),(e=t.call(this)).state={value:"",description:"",currency:"USD",method:"Dinheiro",tag:"Alimenta\xe7\xe3o",exchangeRates:""},e.saveNewExpense=e.saveNewExpense.bind(Object(x.a)(e)),e.fetchAllApi=e.fetchAllApi.bind(Object(x.a)(e)),e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(O.a)(j.a.mark((function e(){var t,a,n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://economia.awesomeapi.com.br/json/all",e.next=3,fetch("https://economia.awesomeapi.com.br/json/all");case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,n=Object.keys(a),r=n.filter((function(e){return"USDT"!==e})),(0,this.props.dispatchCurrencies)(r);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fetchAllApi",value:function(){var e=Object(O.a)(j.a.mark((function e(){var t,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://economia.awesomeapi.com.br/json/all",e.next=3,fetch("https://economia.awesomeapi.com.br/json/all");case 3:return t=e.sent,e.next=6,t.json();case 6:return a=e.sent,this.setState({exchangeRates:a}),e.abrupt("return",a);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"saveNewExpense",value:function(){var e=Object(O.a)(j.a.mark((function e(){var t,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.dispatchExpense,e.next=3,this.fetchAllApi();case 3:a=e.sent,this.setState({exchangeRates:a}),t(this.state),this.setState({value:"",currency:"USD"});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleChanges",value:function(e){var t=e.target,a=t.id,n=t.value;console.log(a,n),this.setState(Object(u.a)({},a,n))}},{key:"render",value:function(){var e=this,t=this.props.currencies,a=this.state.value;return r.a.createElement("form",{className:"form"},r.a.createElement("label",{htmlFor:"value"},"Valor:"," ",r.a.createElement("input",{value:a,id:"value",type:"number",placeholder:"Digite o valor","data-testid":"value-input",onChange:function(t){return e.handleChanges(t)}})),r.a.createElement("label",{htmlFor:"currency"}," ","Moeda:"," ",r.a.createElement("select",{id:"currency","data-testid":"currency-input",onChange:function(t){return e.handleChanges(t)}},t.map((function(e,t){return r.a.createElement("option",{key:t,value:e,"data-testid":e},e)})))),r.a.createElement("label",{htmlFor:"method"}," ","M\xe9todo de pagamento:"," ",r.a.createElement("select",{id:"method","data-testid":"method-input",onChange:function(t){return e.handleChanges(t)}},r.a.createElement("option",{value:"Dinheiro"},"Dinheiro"),r.a.createElement("option",{value:"Cart\xe3o de cr\xe9dito"},"Cart\xe3o de cr\xe9dito"),r.a.createElement("option",{value:"Cart\xe3o de d\xe9bito"},"Cart\xe3o de d\xe9bito"))),r.a.createElement("label",{htmlFor:"tag"}," ","Categoria:"," ",r.a.createElement("select",{id:"tag","data-testid":"tag-input",onChange:function(t){return e.handleChanges(t)}},r.a.createElement("option",{value:"Alimenta\xe7\xe3o"},"Alimenta\xe7\xe3o"),r.a.createElement("option",{value:"Lazer"},"Lazer"),r.a.createElement("option",{value:"Trabalho"},"Trabalho"),r.a.createElement("option",{value:"Transporte"},"Transporte"),r.a.createElement("option",{value:"Sa\xfade"},"Sa\xfade"))),r.a.createElement("label",{htmlFor:"description"}," ","Descri\xe7\xe3o:"," ",r.a.createElement("input",{type:"text",id:"description","data-testid":"description-input",onChange:function(t){return e.handleChanges(t)}}))," ",r.a.createElement("button",{id:"btnSubmit",type:"button",placeholder:"Adicionar despesa",onClick:this.saveNewExpense},"Adicionar despesa"))}}]),a}(r.a.Component)),C=Object(o.b)((function(e){return{currencies:e.wallet.currencies}}),(function(e){return{dispatchExpense:function(t){return e({type:"NEW_EXPENSE",payload:t})},dispatchCurrencies:function(t){return e({type:"CURRENCIES",payload:t})}}}))(w),S=(a(47),function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props.expenses;return r.a.createElement("div",{id:"container"},r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("caption",null,"Despesas"),r.a.createElement("tr",null,r.a.createElement("th",null,"Descri\xe7\xe3o"),r.a.createElement("th",null,"Tag"),r.a.createElement("th",null,"M\xe9todo de pagamento"),r.a.createElement("th",null,"Valor"),r.a.createElement("th",null,"Moeda"),r.a.createElement("th",null,"C\xe2mbio utilizado"),r.a.createElement("th",null,"Valor convertido"),r.a.createElement("th",null,"Moeda de convers\xe3o"),r.a.createElement("th",null,"Editar/Excluir"))),r.a.createElement("tbody",null,e.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,e.description),r.a.createElement("td",null,e.tag),r.a.createElement("td",null,e.method),r.a.createElement("td",null,Number(e.value).toFixed(2)),r.a.createElement("td",null,e.exchangeRates[e.currency].name.split("/")[0]),r.a.createElement("td",null,Number(e.exchangeRates[e.currency].ask).toFixed(2)),r.a.createElement("td",null,Number(e.value*e.exchangeRates[e.currency].ask).toFixed(2)),r.a.createElement("td",null,"Real"),r.a.createElement("td",null,"Edita/Excluir"))})))))}}]),a}(r.a.Component)),k=Object(o.b)((function(e){return{expenses:e.wallet.expenses}}))(S),D=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(g,null),r.a.createElement(C,null),r.a.createElement(k,null))}}]),a}(r.a.Component),N=Object(o.b)((function(e){return{userEmail:e.user.email}}))(D);var R=function(){return r.a.createElement(s.c,null,r.a.createElement(s.a,{exact:!0,path:"/",component:v}),r.a.createElement(s.a,{exact:!0,path:"/carteira",component:N}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var A=a(13),T=a(30),F=a(31),B=a(12),I={email:""},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_ACTION":return Object(B.a)(Object(B.a)({},e),{},{email:t.payload});default:return e}},M=a(32),U={currencies:[],expenses:[]},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0,a=null;switch(t.type){case"NEW_EXPENSE":return a=Object(B.a)({id:e.expenses.length},t.payload),Object(B.a)(Object(B.a)({},e),{},{expenses:[].concat(Object(M.a)(e.expenses),[a])});case"CURRENCIES":return Object(B.a)(Object(B.a)({},e),{},{currencies:t.payload});default:return e}},_=Object(A.combineReducers)({user:L,wallet:W}),z=Object(A.createStore)(_,Object(T.composeWithDevTools)(Object(A.applyMiddleware)(F.a)));c.a.render(r.a.createElement(i.a,null,r.a.createElement(o.a,{store:z},r.a.createElement(R,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[33,1,2]]]);
//# sourceMappingURL=main.cc7e3344.chunk.js.map